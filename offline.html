<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta
      name="Description"
      content="Software Developer Brooks Becton's resume"
    />
    <title>Brooks Becton Resum√©</title>
    <link rel="shortcut icon" href="assets/favicon.ico" />
    <link rel="stylesheet" href="style.css" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script
      async
      src="https://www.googletagmanager.com/gtag/js?id=UA-156513006-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());

      gtag("config", "UA-156513006-1");
    </script>
  </head>
  <body>
    <main>
      <h1>Offline</h1>
      <p>I have no memory of this place...</p>
    </main>
  </body>
  <script>
    let userPrefersDarkMode =
      window.matchMedia &&
      window.matchMedia("(prefers-color-scheme: dark)").matches;

    window.matchMedia("(prefers-color-scheme: dark)").addListener(() => {
      userPrefersDarkMode = window.matchMedia("(prefers-color-scheme: dark)")
        .matches;

      changeColorMode();
    });

    function changeColorMode() {
      function getIsDarkMode() {
        const bodyContainsDarkCss = document
          .querySelector("body")
          .classList.contains("dark-mode");

        return bodyContainsDarkCss;
      }

      function changeSocialIcons(userPrefersDarkMode) {
        const nameContainer = document.querySelectorAll(".name img");
        nameContainer.forEach((icon) => {
          const fileSrc = icon.getAttribute("src");
          const file = fileSrc.split("/").pop();
          icon.removeAttribute("src");
          icon.setAttribute(
            "src",
            `assets/${userPrefersDarkMode ? "dark/" : ""}${file}`
          );
        });
      }

      function changeCSS(userPrefersDarkMode) {
        const body = document.querySelector("body");
        if (userPrefersDarkMode === true) {
          body.classList.remove("light-mode");
          body.classList.add("dark-mode");
        } else {
          // LEEETTTT THE SUNNNSHIIIINNNNEEE
          body.classList.remove("dark-mode");
          body.classList.add("light-mode");
        }
      }

      function changeColorChangeButtonLabel(isDarkMode) {
        const colorChangeButton = document.querySelector("#color-mode");

        colorChangeButton.removeAttribute("aria-label");
        colorChangeButton.setAttribute(
          "aria-label",
          `Enable ${isDarkMode ? "Light" : "Dark"} Mode`
        );
      }

      changeSocialIcons(userPrefersDarkMode);
      changeCSS(userPrefersDarkMode);
      changeColorChangeButtonLabel(userPrefersDarkMode);

      userPrefersDarkMode = !userPrefersDarkMode;
    }

    changeColorMode();
  </script>
</html>
